@using RentSmart.Web.ViewModels.Properties.ViewModels
@model PropertyDetailsViewModel
@{
    ViewData["Title"] = "Details";
    var available = Model.IsAvailable ? "Available" : "Occupied";
}
@await Component.InvokeAsync("GetCountsComponent")

<div class="container mt-4 row">
     <h3 class="text-center">@ViewData["Title"]</h3>
     <hr/>
<div id="carouselExample" class="carousel slide col-md-6 offset-md-1">
  <div class="carousel-inner">
    <div class="carousel-item active">
      <img src="@Model.ImagesUrls.FirstOrDefault()" class="d-block w-100" alt="property-image" style="object-fit: cover; height: 500px;">
    </div>
        @for (int i = 1; i < @Model.ImagesUrls.Count(); i++)
            {
                <div class="carousel-item">
                <img src="@Model.ImagesUrls[i]" class="d-block w-100" style="object-fit: cover; height: 500px;">
                </div> 
            }      
  </div>
  <button class="carousel-control-prev" type="button" data-bs-target="#carouselExample" data-bs-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Previous</span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#carouselExample" data-bs-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Next</span>
  </button>
</div>



<ul class="list-group col-md-4">
  <li class="list-group-item bg-primary text-center text-white">Property Info</li>
  <li class="list-group-item"><i class="fa-solid fa-house"></i>  @Model.PropertyTypeName</li>
  <li class="list-group-item"><i class="fa-solid fa-location-dot"></i>  @Model.CityName, @Model.DistrictName</li>
  <li class="list-group-item"><i class="fa-solid fa-up-right-and-down-left-from-center"></i>  @Model.Size sq.m, @Model.Floor floor</li>
  <li class="list-group-item"><i class="fa-solid fa-star"></i>  Average Rating: @Model.AverageRating</li>
  <li class="list-group-item"><i class="fa-solid fa-user"></i>  Manager: @Model.ManagerName</li>
  <li class="list-group-item"><i class="fa-solid fa-user"></i>  Owner: @Model.OwnerName</li>
  <li class="list-group-item"><i class="fa-solid fa-check"></i> Status: @available</li>
    @if (Model.OriginalUrl!=null)
        {
           <li class="list-group-item"><i class="fa-solid fa-arrow-up-right-from-square"></i>  <a href="Model.OriginalUrl" target="_blank">imoti.info</a></li> 
        }

<li class="list-group-item">
    <div class="accordion" id="accordionExample">
      <div class="accordion-item">
        <h2 class="accordion-header" id="headingOne">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
            <i class="fa-solid fa-info-circle"></i>    Features
          </button>
        </h2>
        <div id="collapseOne" class="accordion-collapse collapse" aria-labelledby="headingOne" data-bs-parent="#accordionExample">
          <div class="accordion-body">
            @foreach (var tag in Model.TagsTagNames)
            {
              <div class="badge bg-secondary me-2">@tag</div>
            }
          </div>
        </div>
      </div>
    </div>
  </li>
<li class="list-group-item d-flex justify-content-center">
  <a type="button" class="btn btn-primary btn-sm " asp-controller="Home" asp-action="Index" asp-route-id="" >Make An Appointment</a>
</li>
    </ul>
     <p class="text-center mt-4"><strong>Description</strong>: @Model.Description</p>
</div>



